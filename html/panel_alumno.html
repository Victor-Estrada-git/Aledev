<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduConnect - Panel de Alumno</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/alumno_panel.css"> 
</head>
<body>
   
    <div class="header">
        
        <div class="brand-logo">
            <img src="../assets/logo.png" alt="Logo EduConnect" class="logo-img" />
            <h1>UNIMENTOR</h1> 
        </div>

        <div class="logout-section">
            <div class="logout-text-details">
                <div id="user-header-name" style="font-weight: 600;">Cerrar sesión</div>
                <div id="user-header-details" style="color: var(--text-light); font-size: 0.9rem;"></div>
            </div>
            <a href="../php/logout.php" title="Cerrar Sesión" class="logout-button"><i class="fas fa-sign-out-alt"></i></a>
        </div>
        
    </div>

<div class="container">
        <div class="nav-tabs">
            <button class="nav-tab active" data-section="profile"><i class="fas fa-user"></i> Mi Perfil</button>
            <button class="nav-tab" data-section="search"><i class="fas fa-search"></i> Buscar Tutores</button>
            <button class="nav-tab" data-section="appointments"><i class="fas fa-calendar"></i> Mis Tutorías</button>
            <button class="nav-tab" data-section="wallet"><i class="fas fa-wallet"></i> Billetera</button>
            <button class="nav-tab" data-section="complaints"><i class="fas fa-exclamation-triangle"></i> Quejas</button>
             <button class="nav-tab" data-section="recommendations"><i class="fas fa-lightbulb"></i> Recomendaciones</button> 

        </div>

        <div id="profile" class="content-section">
            <div class="cards-grid">
                <div class="card">
                    <div class="card-header"><h3>Información Personal</h3></div>
                    <form id="form-perfil">
                        <div class="form-group"><label class="form-label">Nombre Completo</label><input type="text" id="profile-nombre" class="form-input" readonly></div>
                        <div class="form-group"><label class="form-label">Correo Electrónico</label><input type="email" id="profile-correo" class="form-input" readonly></div>
                        <div class="form-group"><label class="form-label">Carrera</label><input type="text" id="profile-carrera" class="form-input" readonly></div>
                        <div class="form-group"><label class="form-label">Semestre Actual</label><input type="text" id="profile-semestre" class="form-input" readonly></div>
                        <div class="form-group"><label class="form-label">Número de Boleta</label><input type="text" id="profile-boleta" class="form-input" readonly></div>
                        <div class="form-group"><label class="form-label">Teléfono</label><input type="tel" id="profile-telefono" name="telefono" class="form-input" pattern="[0-9]{10}" required></div>
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Guardar Cambios</button>
                    </form>
                </div>
                <div class="card">
                    <div class="card-header"><h3>Estadísticas de Aprendizaje</h3></div>
                    <div class="stats-grid">
                        <div class="stat-card"><div id="stat-horas" class="stat-number">...</div><div>Horas de Tutoría</div></div>
                        <div class="stat-card"><div id="stat-materias" class="stat-number">...</div><div>Materias Estudiadas</div></div>
                        <div class="stat-card"><div id="stat-calificacion" class="stat-number">...</div><div>Calificación Promedio</div></div>
                        <div class="stat-card"><div id="stat-tutores" class="stat-number">...</div><div>Tutores Diferentes</div></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="search" class="content-section" style="display: none;">
            <div class="card">
                 <div class="card-header"><h3>Buscar Tutores</h3></div>
                 <form id="form-buscar-tutor" class="search-form">
                    <div class="form-group">
                        <label for="search-materia" class="form-label">Materia:</label>
                        <input type="text" id="search-materia" name="materia" class="form-input" placeholder="Buscar por materia (ej. Cálculo, Java)...">
                    </div>
                    <div class="form-group">
                        <label for="search-semestre" class="form-label">Semestre:</label>
                        <select id="search-semestre" name="semestre" class="form-input">
                            <option value="">Todos los semestres</option>
                            <option value="1">1er Semestre</option>
                            <option value="2">2do Semestre</option>
                            <option value="3">3er Semestre</option>
                            <option value="4">4to Semestre</option>
                            <option value="5">5to Semestre</option>
                            <option value="6">6to Semestre</option>
                            <option value="7">7mo Semestre</option>
                            <option value="8">8vo Semestre</option>
                            </select>
                    </div>
                    <div class="form-group search-buttons">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-search"></i> Buscar</button>
                        <button type="button" id="btn-clear-search" class="btn btn-secondary" style="margin-left: 10px;"><i class="fas fa-redo"></i> Limpiar Filtros</button>
                    </div>
                 </form>
                 <div id="tutor-results-container" class="tutor-results">
                    <p class="placeholder-text">Realiza una búsqueda para encontrar tutores disponibles.</p>
                 </div>
            </div>
        </div>
        
        <div id="appointments" class="content-section" style="display: none;">
            <div class="cards-grid-appointments">
                <div id="citas-pendientes-container" class="card"></div>
                <div id="citas-proximas-container" class="card"></div>
            </div>
            <div id="citas-historial-container" class="card full-width-card"></div>
        </div>

        <div id="wallet" class="content-section" style="display: none;">
            <div class="cards-grid">
                <div class="card">
                    <div class="card-header"><h3>Mi Billetera</h3></div>
                    <div class="wallet-balance">
                        <div>Saldo Disponible</div>
                        <div id="saldo-billetera" class="balance-amount">$0.00</div>
                    </div>
                    <button class="btn btn-primary" style="width: 100%;"><i class="fas fa-plus"></i> Realizar Donativo a la Plataforma</button>
                </div>
                <div class="card">
                    <div class="card-header"><h3>Historial de Transacciones</h3></div>
                    <div id="transacciones-container"><p>Cargando historial...</p></div>
                </div>
            </div>
        </div>

        <div id="complaints" class="content-section" style="display: none;">
            <div class="cards-grid">
                <div class="card">
                    <div class="card-header"><h3>Nueva Queja</h3></div>
                    <form id="form-queja">
                        <div class="form-group"><label class="form-label" for="queja-tutor">Seleccionar Tutor</label><select id="queja-tutor" name="destinatario_id" class="form-input" required><option value="">Cargando tutores...</option></select></div>
                        <div class="form-group"><label class="form-label" for="queja-cita">Cita Relacionada (Opcional)</label><select id="queja-cita" name="cita_id" class="form-input"><option value="">Seleccionar cita...</option></select></div>
                        <div class="form-group"><label class="form-label" for="queja-asunto">Asunto</label><input type="text" id="queja-asunto" name="asunto" class="form-input" placeholder="Resumen breve del problema" required></div>
                        <div class="form-group"><label class="form-label" for="queja-descripcion">Descripción Detallada</label><textarea id="queja-descripcion" name="descripcion" class="form-input" rows="4" placeholder="Describe detalladamente la situación..." required></textarea></div>
                        <button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane"></i> Enviar Queja</button>
                    </form>
                </div>
                <div class="card">
                    <div class="card-header"><h3>Mis Quejas</h3></div>
                    <div id="quejas-container"><p>Cargando quejas...</p></div>
                </div>
            </div>
        </div>
       <div id="complaints" class="content-section" style="display: none;">
    </div>

<div id="recommendations" class="content-section" style="display: none;">
    <div class="card">
        <div class="card-header">
            <div class="card-icon icon-recommendations"><i class="fas fa-lightbulb"></i></div>
            <h3>Tutores Recomendados para Ti</h3>
        </div>
        <div id="recommended-tutors-container" class="tutor-results">
            <p class="placeholder-text">Cargando recomendaciones...</p>
        </div>
    </div>
</div> 
    </div>

    <div id="agendarCitaModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-tutor-name">Agendar Cita</h3>
                <span class="close-button">&times;</span>
            </div>
            <div class="modal-body">
                <form id="form-agendar-cita">
                    <input type="hidden" id="modal-tutor-id" name="tutor_id">
                    <div class="form-group"><label for="modal-materia" class="form-label">Materia o Tema Principal</label><input type="text" id="modal-materia" name="materia_tema" class="form-input" required placeholder="Ej: Ecuaciones Diferenciales"></div>
                    <div class="form-group"><label for="modal-fecha-hora" class="form-label">Fecha y Hora</label><input type="datetime-local" id="modal-fecha-hora" name="fecha_hora" class="form-input" required></div>
                    <div class="form-group"><label for="modal-tipo" class="form-label">Tipo de Tutoría</label><select id="modal-tipo" name="tipo_solicitado" class="form-input" required><option value="individual">Individual</option><option value="grupal">Grupal</option></select></div>
                    <div class="form-group"><label for="modal-notas" class="form-label">Notas para el Tutor (Opcional)</label><textarea id="modal-notas" name="notas_alumno" class="form-input" rows="3" placeholder="Ej: 'Quisiera repasar los ejercicios del capítulo 3'"></textarea></div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;"><i class="fas fa-calendar-plus"></i> Enviar Solicitud de Cita</button>
                </form>
            </div>
        </div>
    </div>
    
    <script src="../js/panel_alumno.js"></script>
</body>
</html>